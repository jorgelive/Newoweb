vich_uploader:
    db_driver: orm
    mappings:
        # ----------------------------------------------------------------------
        # 1. HU√âSPEDES (Usa el HuespedNamer espec√≠fico)
        # ----------------------------------------------------------------------
        huesped_docs:
            # URL p√∫blica (ej: /carga/huespedes/docs)
            uri_prefix: '%pms.path.huesped_docs%'
            # Ruta f√≠sica en disco
            upload_destination: '%app.public_dir%%pms.path.huesped_docs%'

            namer: App\Pms\Naming\HuespedNamer # ‚úÖ Espec√≠fico (nombres legibles)

            # Vital: false porque tus AssetListeners ya inyectan la URL
            inject_on_load: false

            delete_on_update: true
            delete_on_remove: true

        huesped_firmas:
            uri_prefix: '%pms.path.huesped_firmas%'
            upload_destination: '%app.public_dir%%pms.path.huesped_firmas%'

            namer: App\Pms\Naming\HuespedNamer # ‚úÖ Espec√≠fico

            inject_on_load: false
            delete_on_update: true
            delete_on_remove: true

        # ----------------------------------------------------------------------
        # 2. GALER√çA (Usa el MediaTokenNamer universal)
        # ----------------------------------------------------------------------
        guia_images:
            uri_prefix: '%pms.path.galeria_images%'

            # üî¥ CORREGIDO: Ten√≠as un error de tipeo "...dir%/p%pms..." (la 'p' extra)
            upload_destination: '%app.public_dir%%pms.path.galeria_images%'

            # ‚úÖ UNIVERSAL: Usa el token del MediaTrait (TOKEN_nombre.webp)
            namer: App\Panel\Naming\MediaTokenNamer

            inject_on_load: false
            delete_on_update: true
            delete_on_remove: true

        # ----------------------------------------------------------------------
        # 2. GALER√çA (Usa el MediaTokenNamer universal)
        # ----------------------------------------------------------------------
        unidad_images:
            uri_prefix: '%pms.path.unidad_images%'

            # üî¥ CORREGIDO: Ten√≠as un error de tipeo "...dir%/p%pms..." (la 'p' extra)
            upload_destination: '%app.public_dir%%pms.path.unidad_images%'

            # ‚úÖ UNIVERSAL: Usa el token del MediaTrait (TOKEN_nombre.webp)
            namer: App\Panel\Naming\MediaTokenNamer

            inject_on_load: false
            delete_on_update: true
            delete_on_remove: true